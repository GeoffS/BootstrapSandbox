<!DOCTYPE html>
<html lang="en">
	<head>
		<title>JS Sandbox</title>
		<meta charset="utf-8">
		<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
		<script>
			// function resizeCallback(){
				// var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
				// var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
				// console.log('Resized to: '+w+"X"+h);
			// }
		</script>
		<script src="screenfull.min.js"> </script>
	</head>
	<body id="body" style="background-color: black;margin:0;" onresize="resizeCallback()" onload="resizeCallback()">
		<div style="padding:0; color:white;">
			<img id="image" style="display:block;margin:0 auto 0 auto;" src="IMG_7180_screen.jpg" alt="Wayne" onclick="toggleFS()"/>
			<!-- img id="image" style="display:block;margin:0 auto 0 auto;max-width:100vw;max-height:100vh;max-width:950px;max-height:544px;" src="IMG_7180_screen.jpg" alt="Wayne" / -->
		</div>
		<script>
			var imageElem = document.getElementById('image');
			var bodyElem = document.getElementById('body');
			function resizeCallback(){
				var docW = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
				var docH = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
				console.log('Resized to: '+docW+" X "+docH);
				// var imageElem = document.getElementById('image');
				var imAspect = imageElem.naturalWidth/imageElem.naturalHeight;
				var docAspect = docW/docH;
				var factor = 1.0;
				var scale;
				if (docAspect > imAspect) {
					scale = docH/imageElem.naturalHeight*factor;
				} else {
					scale = docW/imageElem.naturalWidth*factor;
				};
				if(scale > 1.0) {scale = 1.0;}
				var imW = imageElem.naturalWidth*scale;
				var imH = imageElem.naturalHeight*scale;
				console.log("scale, imW, imH="+scale+", "+imW+", "+imH);;
				imageElem.style.width  = imW+"px";
				imageElem.style.height = imH+"px";
			}
			function toggleFS() {
				if (screenfull.enabled) {
					console.log('about to do screenfull.toggle(bodyElem)...');
        			screenfull.toggle(bodyElem);
        			// console.log('about to do screenfull.request(e1)...');
        			// screenfull.request(bodyElem);
        		}
			}
		</script>
	</body>
</html>